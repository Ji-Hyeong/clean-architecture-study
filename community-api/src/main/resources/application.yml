# community-api 기본 설정이다.
spring:
  # 애플리케이션 식별자 설정이다.
  application:
    name: community-api
  # PostgreSQL 연결 설정이다.
  datasource:
    url: "jdbc:postgresql://localhost:5432/clean_arch"
    username: "admin"
    password: "testPassword@"
  # JPA 기본 동작을 제어한다.
  jpa:
    # 스키마는 Flyway로 관리하고, JPA는 생성/검증을 수행하지 않는다.
    hibernate:
      ddl-auto: "none"
    # SQL 로그는 필요 시만 확인하도록 기본값을 false로 둔다.
    show-sql: false
  # Flyway 마이그레이션 설정이다.
  flyway:
    enabled: true
    locations: "classpath:db/migration"
    # 마이그레이션 적용 시 스키마 유효성을 함께 검사한다.
    validate-on-migrate: true
    # 커뮤니티용 스키마 히스토리를 별도로 유지한다.
    table: "flyway_schema_history_community"
    # 공용 스키마에 기존 테이블(users 등)이 있으므로 베이스라인 후 마이그레이션을 적용한다.
    baseline-on-migrate: true
    baseline-version: 0
